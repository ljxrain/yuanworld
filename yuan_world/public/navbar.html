<!-- 通用导航栏 -->
<nav id="mainNavbar" style="position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); padding: 15px 0; border-bottom: 1px solid rgba(144,238,144,0.2);">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 40px; display: flex; justify-content: space-between; align-items: center;">
        <a href="index.html" style="font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #90EE90, #37B679); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-decoration: none;">源世界</a>

        <!-- 桌面端菜单 -->
        <div id="desktopMenu" style="display: flex; gap: 30px; align-items: center;">
            <a href="index.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">首页</a>
            <a href="gallery.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">模板中心</a>
            <a href="before-after.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">Before/After</a>
            <a href="tech-pricing.html" class="nav-item" style="color: #fff; font-weight: 500; text-decoration: none; transition: color 0.3s;">AI技术与价格</a>
            <a href="create.html" style="background: linear-gradient(135deg, #90EE90, #37B679); color: #111; padding: 10px 25px; border-radius: 25px; font-weight: 600; text-decoration: none; transition: transform 0.3s; display: inline-block;">立即创作</a>
            <a href="create.html" id="authLink" style="color: #90EE90; font-weight: 500; text-decoration: none; transition: color 0.3s;">登录/注册</a>
        </div>

        <!-- 手机端菜单按钮 -->
        <button id="mobileMenuBtn" onclick="toggleMobileNav()" style="display: none; background: none; border: none; color: #90EE90; font-size: 1.8rem; cursor: pointer; padding: 5px;">☰</button>
    </div>

    <!-- 手机端下拉菜单 -->
    <div id="mobileMenuDropdown" style="display: none; max-width: 1400px; margin: 0 auto; padding: 15px 40px 0; border-top: 1px solid rgba(144,238,144,0.2); margin-top: 15px;">
        <a href="index.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">首页</a>
        <a href="gallery.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">模板中心</a>
        <a href="before-after.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">Before/After</a>
        <a href="tech-pricing.html" style="display: block; color: #fff; padding: 12px 0; font-weight: 500; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1);">AI技术与价格</a>
        <a href="create.html" style="display: block; background: linear-gradient(135deg, #90EE90, #37B679); color: #111; padding: 12px; border-radius: 8px; font-weight: 600; text-align: center; margin: 15px 0; text-decoration: none;">立即创作</a>
    </div>
</nav>

<style>
    /* 导航栏悬停效果 */
    .nav-item:hover {
        color: #90EE90 !important;
    }

    /* 响应式 */
    @media (max-width: 768px) {
        #desktopMenu {
            display: none !important;
        }
        #mobileMenuBtn {
            display: block !important;
        }
        #mainNavbar > div {
            padding: 0 20px !important;
        }
        #mobileMenuDropdown {
            padding: 15px 20px 0 !important;
        }
    }

    /* 页面内容需要顶部padding避免被导航栏遮挡 */
    body {
        padding-top: 70px;
    }
</style>

<script>
    // 手机菜单切换
    function toggleMobileNav() {
        const dropdown = document.getElementById('mobileMenuDropdown');
        dropdown.style.display = dropdown.style.display === 'none' || !dropdown.style.display ? 'block' : 'none';
    }

    // 检查登录状态
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (currentUser) {
        const authLink = document.getElementById('authLink');
        if (authLink) {
            authLink.textContent = currentUser.username;
            authLink.href = 'create.html';
        }
    }
</script>