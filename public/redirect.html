<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£åœ¨è·³è½¬ - åšä¸–ç•Œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .logo {
            font-size: 48px;
            margin-bottom: 20px;
        }
        h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        p {
            color: #666;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        .loading {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: inline-block;
            text-decoration: none;
            transition: transform 0.2s;
        }
        .btn:active {
            transform: scale(0.95);
        }
        .wechat-guide {
            display: none;
            background: #fff9e6;
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .wechat-guide.show {
            display: block;
        }
        .wechat-guide h3 {
            color: #ff6b00;
            margin-bottom: 15px;
            font-size: 16px;
        }
        .wechat-guide ol {
            text-align: left;
            padding-left: 20px;
            color: #333;
        }
        .wechat-guide li {
            margin: 8px 0;
            font-size: 14px;
        }
        .arrow-img {
            max-width: 100%;
            margin-top: 15px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">ğŸ¨</div>
        <h1>åšä¸–ç•Œ</h1>
        <p>AIæ¢¦å¢ƒæˆçœŸï¼Œä¸€é”®ç”Ÿæˆä¸“å±å½¢è±¡</p>

        <div id="loadingSection">
            <div class="loading"></div>
            <p>æ­£åœ¨ä¸ºæ‚¨æ‰“å¼€...</p>
        </div>

        <button class="btn" id="goButton" onclick="goToTarget()">
            ç«‹å³å‰å¾€
        </button>

        <div class="wechat-guide" id="wechatGuide">
            <h3>ğŸ“± å¾®ä¿¡ç”¨æˆ·è¯·æ³¨æ„</h3>
            <ol>
                <li>ç‚¹å‡»å³ä¸Šè§’ã€<strong>Â·Â·Â·</strong>ã€‘èœå•</li>
                <li>é€‰æ‹©ã€<strong>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</strong>ã€‘</li>
                <li>ä½¿ç”¨é»˜è®¤æµè§ˆå™¨è®¿é—®æ•ˆæœæœ€ä½³</li>
            </ol>
            <p style="color: #999; font-size: 12px; margin-top: 15px; text-align: center;">
                æˆ–å¤åˆ¶é“¾æ¥åˆ°æµè§ˆå™¨æ‰“å¼€
            </p>
        </div>
    </div>

    <script>
        // è·å–é‚€è¯·ç 
        const urlParams = new URLSearchParams(window.location.search);
        const code = urlParams.get('code') || urlParams.get('c');

        // ç›®æ ‡URL
        const targetUrl = code
            ? `http://49.232.220.223/yuan/register.html?code=${code}`
            : 'http://49.232.220.223/yuan/';

        // æ£€æµ‹æ˜¯å¦å¾®ä¿¡æµè§ˆå™¨
        function isWeChatBrowser() {
            const ua = navigator.userAgent.toLowerCase();
            return /micromessenger/.test(ua);
        }

        // è·³è½¬åˆ°ç›®æ ‡é¡µé¢
        function goToTarget() {
            window.location.href = targetUrl;
        }

        // é¡µé¢åŠ è½½é€»è¾‘
        window.addEventListener('DOMContentLoaded', function() {
            if (isWeChatBrowser()) {
                // å¾®ä¿¡æµè§ˆå™¨ï¼šæ˜¾ç¤ºå¼•å¯¼
                document.getElementById('loadingSection').style.display = 'none';
                document.getElementById('wechatGuide').classList.add('show');

                // å»¶è¿Ÿ3ç§’è‡ªåŠ¨è·³è½¬ï¼ˆç»™ç”¨æˆ·æ—¶é—´çœ‹æç¤ºï¼‰
                setTimeout(function() {
                    // å¾®ä¿¡æµè§ˆå™¨è‡ªåŠ¨è·³è½¬å¯èƒ½è¢«æ‹¦æˆªï¼Œæ‰€ä»¥åªæ˜¾ç¤ºæŒ‰é’®
                    console.log('å¾®ä¿¡ç¯å¢ƒï¼Œè¯·ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»');
                }, 3000);
            } else {
                // éå¾®ä¿¡æµè§ˆå™¨ï¼šç›´æ¥è·³è½¬
                setTimeout(function() {
                    goToTarget();
                }, 800);
            }
        });

        // å°è¯•è‡ªåŠ¨è·³è½¬ï¼ˆéå¾®ä¿¡ç¯å¢ƒï¼‰
        if (!isWeChatBrowser()) {
            // å¤‡ç”¨è·³è½¬æ–¹æ¡ˆ
            setTimeout(function() {
                if (window.location.href.indexOf('yuan') === -1) {
                    goToTarget();
                }
            }, 1500);
        }
    </script>
</body>
</html>
